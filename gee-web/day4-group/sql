CREATE TABLE `activity_info` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `title` varchar(200) DEFAULT NULL COMMENT 'title',
  `activity_description` text COMMENT 'details of the activity',
  `status` int(11) NOT NULL COMMENT 'status, can not be null',
  `approval_status` int(11) DEFAULT NULL COMMENT 'the status of approval process',
  `promotion_template` int(11) NOT NULL COMMENT 'promotion_template',
  `calculation_apply_scope` int(11) NOT NULL COMMENT 'ORDER_LINE/MAIN_ORDER/COMBO_ORDER',
  `eligible_product_scope` int(11) NOT NULL COMMENT 'SKU/PRODUCT/SHOP/REGION',
  `eligible_user_type` int(11) DEFAULT '0' COMMENT 'ALL_USER/NEW_USER',
  `pre_launch_day` int(11) DEFAULT NULL COMMENT '0/1/2/3 days',
  `pre_launch_begin_time` bigint(20) DEFAULT NULL COMMENT 'Prelaunch begin time',
  `launch_begin_time` bigint(20) DEFAULT NULL COMMENT 'launch begin time',
  `launch_end_time` bigint(20) DEFAULT NULL COMMENT 'launch end time',
  `purchase_limit_dimension` int(11) DEFAULT NULL COMMENT 'SKU or ACTIVITY',
  `purchase_max_quantity` int(11) DEFAULT NULL COMMENT 'max quantity limit when purchase',
  `region` varchar(32) NOT NULL COMMENT 'region',
  `budget_id` bigint(20) DEFAULT NULL COMMENT 'id of the budget',
  `creation_data_source` int(11) DEFAULT NULL COMMENT 'SELLER_BACKEND = 1/OPERATION_BACKEND = 2',
  `is_test` tinyint(4) DEFAULT '0' COMMENT '1 is for test data, 0 is not',
  `create_time` bigint(20) NOT NULL COMMENT 'create_time',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `creator_name` varchar(50) DEFAULT NULL COMMENT 'creatorName',
  `update_time` bigint(20) NOT NULL COMMENT 'update_time',
  `updater_id` bigint(20) NOT NULL COMMENT 'updater_id',
  `updater_name` varchar(50) DEFAULT NULL COMMENT 'updater_name',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_idx_title` (`creator_id`,`region`,`promotion_template`,`title`) COMMENT 'search by title'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Activity information';
CREATE TABLE `activity_info_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `title` varchar(200) DEFAULT NULL COMMENT 'title',
  `activity_description` text COMMENT 'details of the activity',
  `status` int(11) NOT NULL COMMENT 'status, can not be null',
  `approval_status` int(11) DEFAULT NULL COMMENT 'the status of approval process',
  `promotion_template` int(11) NOT NULL COMMENT 'promotion_template',
  `calculation_apply_scope` int(11) NOT NULL COMMENT 'ORDER_LINE/MAIN_ORDER/COMBO_ORDER',
  `eligible_product_scope` int(11) NOT NULL COMMENT 'SKU/PRODUCT/SHOP/REGION',
  `eligible_user_type` int(11) DEFAULT '0' COMMENT 'ALL_USER/NEW_USER',
  `pre_launch_day` int(11) DEFAULT NULL COMMENT '0/1/2/3 days',
  `pre_launch_begin_time` bigint(20) DEFAULT NULL COMMENT 'Prelaunch begin time',
  `launch_begin_time` bigint(20) DEFAULT NULL COMMENT 'launch begin time',
  `launch_end_time` bigint(20) DEFAULT NULL COMMENT 'launch end time',
  `purchase_limit_dimension` int(11) DEFAULT NULL COMMENT 'SKU or ACTIVITY',
  `purchase_max_quantity` int(11) DEFAULT NULL COMMENT 'max quantity limit when purchase',
  `region` varchar(32) NOT NULL COMMENT 'region',
  `budget_id` bigint(20) DEFAULT NULL COMMENT 'id of the budget',
  `creation_data_source` int(11) DEFAULT NULL COMMENT 'SELLER_BACKEND = 1/OPERATION_BACKEND = 2',
  `is_test` tinyint(4) DEFAULT '0' COMMENT '1 is for test data, 0 is not',
  `create_time` bigint(20) NOT NULL COMMENT 'create_time',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `creator_name` varchar(50) DEFAULT NULL COMMENT 'creatorName',
  `update_time` bigint(20) NOT NULL COMMENT 'update_time',
  `updater_id` bigint(20) NOT NULL COMMENT 'updater_id',
  `updater_name` varchar(50) DEFAULT NULL COMMENT 'updater_name',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_idx_title` (`creator_id`,`region`,`promotion_template`,`title`) COMMENT 'search by title'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Activity information';
CREATE TABLE `activity_product` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `activity_id` bigint(20) NOT NULL COMMENT 'activityId, not null',
  `product_id` bigint(20) NOT NULL COMMENT 'productId, not null',
  `activity_price` varchar(50) DEFAULT NULL COMMENT 'could be FlashSale price, fan price',
  `purchase_max_quantity` int(11) DEFAULT NULL COMMENT 'max quantity limit when purchase',
  `create_time` bigint(20) NOT NULL COMMENT 'create_time',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `creator_name` varchar(50) DEFAULT NULL COMMENT 'creatorName',
  `update_time` bigint(20) NOT NULL COMMENT 'update_time',
  `updater_id` bigint(20) NOT NULL COMMENT 'updater_id',
  `updater_name` varchar(50) DEFAULT NULL COMMENT 'updater_name',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_activity_product` (`activity_id`,`product_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Active product in the activity';
CREATE TABLE `activity_product_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `activity_id` bigint(20) NOT NULL COMMENT 'activityId, not null',
  `product_id` bigint(20) NOT NULL COMMENT 'productId, not null',
  `activity_price` varchar(50) DEFAULT NULL COMMENT 'could be FlashSale price, fan price',
  `purchase_max_quantity` int(11) DEFAULT NULL COMMENT 'max quantity limit when purchase',
  `create_time` bigint(20) NOT NULL COMMENT 'create_time',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `creator_name` varchar(50) DEFAULT NULL COMMENT 'creatorName',
  `update_time` bigint(20) NOT NULL COMMENT 'update_time',
  `updater_id` bigint(20) NOT NULL COMMENT 'updater_id',
  `updater_name` varchar(50) DEFAULT NULL COMMENT 'updater_name',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_activity_product` (`activity_id`,`product_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='Active product in the activity';
CREATE TABLE `budget_info` (
  `id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'primary key',
  `total` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '0' COMMENT 'total budget',
  `used` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '0' COMMENT 'used budget',
  `balance` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '0' COMMENT 'budget balance',
  `withholding` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '0' COMMENT 'budget that is withheld for user payment',
  `available` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '0' COMMENT 'budget that is available for new order',
  `currency` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'currency of the budget',
  `sub_budget_count` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '0' COMMENT 'the number of sub budget sharding',
  `refill_amount` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '0' COMMENT 'the amount of budget that sub budget tries to refill each time',
  `min_sub_budget_available` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '0' COMMENT 'when below this min sub budget available threshold, the sub budget should try to refill.',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when the budget is created',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when the budget is updated',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='budget info';
CREATE TABLE `budget_info_stress` (
  `id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'primary key for budget_info',
  `total` bigint(20) NOT NULL DEFAULT '0' COMMENT 'total budget',
  `used` bigint(20) NOT NULL DEFAULT '0' COMMENT 'used budget',
  `balance` bigint(20) NOT NULL DEFAULT '0' COMMENT 'budget balance',
  `withholding` bigint(20) NOT NULL DEFAULT '0' COMMENT 'budget that is withheld for user payment',
  `available` bigint(20) NOT NULL DEFAULT '0' COMMENT 'budget that is available for new order',
  `currency` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'currency of the budget',
  `sub_budget_count` bigint(20) NOT NULL DEFAULT '0' COMMENT 'the number of sub budget sharding',
  `refill_amount` bigint(20) NOT NULL DEFAULT '0' COMMENT 'the amount of budget that sub budget tries to refill each time',
  `min_sub_budget_available` bigint(20) NOT NULL DEFAULT '0' COMMENT 'when below this min sub budget available threshold, the sub budget should try to refill.',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when the budget is created',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when the budget is updated',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='for saving budget info of promotion activities';
CREATE TABLE `change_log` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `business_id` bigint(20) DEFAULT NULL COMMENT 'promotionId or eventId',
  `operate` varchar(100) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'edit/create/end',
  `instance_id` varchar(100) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'approveId',
  `url` varchar(2047) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'approve_url',
  `status` int(11) DEFAULT NULL COMMENT 'status',
  `before_data` mediumtext COLLATE utf8mb4_bin COMMENT '修改前数据',
  `after_data` mediumtext COLLATE utf8mb4_bin COMMENT '修改后数据',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'updateTime',
  PRIMARY KEY (`id`),
  KEY `idx_businessId` (`business_id`),
  KEY `idx_instanceId` (`instance_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='approve records';
CREATE TABLE `change_log_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `business_id` bigint(20) DEFAULT NULL COMMENT 'promotionId or eventId',
  `operate` varchar(100) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'edit/create/end',
  `instance_id` varchar(100) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'approveId',
  `url` varchar(2047) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'approve_url',
  `status` int(11) DEFAULT NULL COMMENT 'status',
  `before_data` text COLLATE utf8mb4_bin COMMENT 'data before approve',
  `after_data` text COLLATE utf8mb4_bin COMMENT 'data after approve',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'updateTime',
  PRIMARY KEY (`id`),
  KEY `idx_businessId` (`business_id`),
  KEY `idx_instanceId` (`instance_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='approve records';
CREATE TABLE `claim_condition` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `voucher_type_id` bigint(20) DEFAULT NULL COMMENT 'voucherTypeId',
  `type` int(11) DEFAULT NULL COMMENT 'conditionType(timeRange...)',
  `config` text COLLATE utf8mb4_bin COMMENT 'condition detail',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'updateTime',
  PRIMARY KEY (`id`),
  KEY `idx_instanceId` (`voucher_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='decide if a voucher can be claimed ';
CREATE TABLE `claim_condition_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `voucher_type_id` bigint(20) DEFAULT NULL COMMENT 'voucherTypeId',
  `type` int(11) DEFAULT NULL COMMENT 'conditionType(timeRange...)',
  `config` text COLLATE utf8mb4_bin COMMENT 'condition detail',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'updateTime',
  PRIMARY KEY (`id`),
  KEY `idx_voucherTypeId` (`voucher_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='decide if a voucher can be claimed ';
CREATE TABLE `event` (
  `id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'primary key',
  `title` varchar(255) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'title',
  `region` varchar(15) COLLATE utf8mb4_bin DEFAULT '' COMMENT 'region',
  `start_time` bigint(20) DEFAULT NULL COMMENT 'the most early beginTime',
  `end_time` bigint(20) DEFAULT NULL COMMENT 'the most lately endTime',
  `status` int(11) DEFAULT NULL COMMENT 'end/normal/draft...',
  `approve_status` int(11) DEFAULT NULL COMMENT 'notSubmit/pending/rejected/approved',
  `owner_id` int(11) DEFAULT NULL COMMENT 'ownerId',
  `owner_name` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'ownerName',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'updateTime',
  `create_source` int(11) DEFAULT NULL COMMENT 'operationBackend/sellerBackend',
  `test_flag` tinyint(4) NOT NULL COMMENT '0/1',
  PRIMARY KEY (`id`),
  KEY `idx_startTime` (`start_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='event';
CREATE TABLE `event_stress` (
  `id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'primary key',
  `title` varchar(255) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'title',
  `region` varchar(15) COLLATE utf8mb4_bin DEFAULT '' COMMENT 'region',
  `start_time` bigint(20) DEFAULT NULL COMMENT 'the most early beginTime',
  `end_time` bigint(20) DEFAULT NULL COMMENT 'the most lately endTime',
  `status` int(11) DEFAULT NULL COMMENT 'end/normal/draft...',
  `approve_status` int(11) DEFAULT NULL COMMENT 'notSubmit/pending/rejected/approved',
  `owner_id` int(11) DEFAULT NULL COMMENT 'ownerId',
  `owner_name` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'ownerName',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'updateTime',
  `create_source` int(11) DEFAULT NULL COMMENT 'operationBackend/sellerBackend',
  `test_flag` tinyint(4) NOT NULL COMMENT '0/1',
  PRIMARY KEY (`id`),
  KEY `idx_startTime` (`start_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='event';
CREATE TABLE `promotion_affiliate_creator` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `promotion_id` bigint(20) NOT NULL COMMENT 'promotion_id, not null',
  `affiliate_creator_id` bigint(20) NOT NULL COMMENT 'affiliate_creator_id, not null',
  `create_time` bigint(20) NOT NULL COMMENT 'createTime',
  `update_time` bigint(20) NOT NULL COMMENT 'updateTime',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_promotion_affiliate_creator` (`promotion_id`,`affiliate_creator_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='affiliate creator in the promotion';
CREATE TABLE `promotion_content` (
  `id` bigint(20) NOT NULL COMMENT 'content id',
  `title` varchar(255) DEFAULT NULL COMMENT 'content title',
  `type` int(11) NOT NULL COMMENT 'content type 1->announcement',
  `slot` int(11) DEFAULT NULL COMMENT 'placement of the material',
  `region` varchar(32) NOT NULL COMMENT 'region to show',
  `status` int(11) DEFAULT NULL COMMENT 'active status 1->draft 2->active 3->deactivated',
  `material_type` int(11) DEFAULT NULL COMMENT 'material type 1->text 2->image 3->rich text',
  `material_text` longtext COMMENT 'the text of the material',
  `refer_url` text COMMENT 'hyperlink when clicked',
  `begin_time` bigint(20) DEFAULT NULL COMMENT 'show begin time',
  `end_time` bigint(20) DEFAULT NULL COMMENT 'show end time',
  `creator_id` bigint(20) DEFAULT NULL COMMENT 'creator id',
  `creator_name` varchar(50) DEFAULT NULL COMMENT 'creator name',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'create time',
  `updater_id` bigint(20) DEFAULT NULL COMMENT 'updater id',
  `updater_name` varchar(50) DEFAULT NULL COMMENT 'updater name',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'update time',
  `is_test` tinyint(4) DEFAULT '0' COMMENT 'test flag 0->normal 1->test',
  `campaign_id` bigint(20) DEFAULT NULL COMMENT 'campaign id',
  `content_desc` text COMMENT 'description',
  PRIMARY KEY (`id`),
  KEY `idx_material` (`type`,`slot`,`status`,`region`,`begin_time`,`end_time`) COMMENT 'query index'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='content information';
CREATE TABLE `promotion_info` (
  `promotion_id` bigint(20) NOT NULL COMMENT 'primary key',
  `promotion_template` int(11) NOT NULL DEFAULT '0' COMMENT 'Template of promotion that is defined by PM, including discount, coupon, free shipping.',
  `filter_expression` text COLLATE utf8mb4_bin COMMENT 'filter expression',
  `action_expression` text COLLATE utf8mb4_bin COMMENT 'action expression',
  `promotion_type` int(11) NOT NULL DEFAULT '0' COMMENT 'Promotion type decides how the promotion process should be calculated, based on OrderLine or MainOrder or Cart.',
  `op_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Composite index: op_id + begin_time + end_time',
  `op_name` varchar(20) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'Name of the operator who did the last change',
  `seller_promotion_type` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'seller promotion type',
  `promotion_time_limit` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'Promotion time limit 1 - limited 2 - no limit',
  `title` varchar(100) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'Indexed. Title of this promotion that is displayed to seller',
  `description` text COLLATE utf8mb4_bin COMMENT 'Detail info of this promotion.',
  `region` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'The region where this promotion is valid.',
  `timezone_offset` int(11) NOT NULL DEFAULT '0' COMMENT 'Timezone info that seller set when he created this promotion. He could choose to not specify the timezone, in that case timezone will be calculated by a region to timezone mapping config.',
  `begin_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion begins',
  `end_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion ends',
  `status` tinyint(4) NOT NULL DEFAULT '1' COMMENT '1. Normal. 2. Closed by seller',
  `close_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is closed by seller',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is created',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is updated',
  `budget_id` bigint(20) DEFAULT NULL COMMENT '预算id',
  `created_source` tinyint(4) DEFAULT '1' COMMENT '创建来源',
  `approve_status` int(11) DEFAULT '2' COMMENT '审批状态',
  `budget_money` varchar(127) COLLATE utf8mb4_bin DEFAULT '' COMMENT '展示使用的budget金额',
  `test_flag` int(11) DEFAULT '0' COMMENT 'testFlag',
  `limit_dimension` tinyint(4) NOT NULL DEFAULT '2' COMMENT 'limit_dimension 0:not need, 1:sku 2:promotion',
  `channel_limit_type` varchar(128) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'channel limit type, null means no limit',
  PRIMARY KEY (`promotion_id`),
  UNIQUE KEY `uniq_idx_title` (`op_id`,`region`,`title`,`promotion_template`) COMMENT 'uniq title',
  KEY `idx_interval` (`op_id`,`region`,`status`,`begin_time`,`end_time`,`create_time`) COMMENT 'Composite index when this promotion is active'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;
CREATE TABLE `promotion_info_change_log` (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `change_id` varchar(127) NOT NULL DEFAULT '0' COMMENT '操作id 审批流id',
  `promotion_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '营销活动id',
  `before_data` mediumtext COMMENT '修改前数据',
  `after_data` mediumtext COMMENT '修改后数据',
  `status` tinyint(4) NOT NULL DEFAULT '1' COMMENT '状态',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT '创建时间',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT '更新时间',
  `url` varchar(1023) NOT NULL DEFAULT '' COMMENT 'approve url',
  PRIMARY KEY (`id`),
  KEY `idx_changeId` (`change_id`),
  KEY `idx_promotion_id` (`promotion_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='营销信息修改流水';
CREATE TABLE `promotion_info_change_log_stress` (
  `id` bigint(20) NOT NULL COMMENT '主键',
  `change_id` varchar(127) NOT NULL DEFAULT '0' COMMENT '操作id 审批流id',
  `promotion_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '营销活动id',
  `before_data` text COMMENT '修改前',
  `after_data` text COMMENT '修改后',
  `status` tinyint(4) NOT NULL DEFAULT '1' COMMENT '状态',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT '创建时间',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT '更新时间',
  `url` varchar(1023) NOT NULL DEFAULT '' COMMENT 'approve url',
  PRIMARY KEY (`id`),
  KEY `idx_changeId` (`change_id`),
  KEY `idx_promotion_id` (`promotion_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='营销信息修改流水';
CREATE TABLE `promotion_info_stress` (
  `promotion_id` bigint(20) NOT NULL COMMENT 'primary key',
  `promotion_template` int(11) NOT NULL DEFAULT '0' COMMENT 'Template of promotion that is defined by PM, including discount, coupon, free shipping.',
  `filter_expression` text COLLATE utf8mb4_bin COMMENT 'filter expression',
  `action_expression` text COLLATE utf8mb4_bin COMMENT 'action expression',
  `promotion_type` int(11) NOT NULL DEFAULT '0' COMMENT 'Promotion type decides how the promotion process should be calculated, based on OrderLine or MainOrder or Cart.',
  `op_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Composite index: op_id + begin_time + end_time',
  `op_name` varchar(20) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'Name of the operator who did the last change',
  `seller_promotion_type` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'seller promotion type',
  `promotion_time_limit` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'Promotion time limit 1 - limited 2 - no limit',
  `title` varchar(100) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'Indexed. Title of this promotion that is displayed to seller',
  `description` text COLLATE utf8mb4_bin COMMENT 'Detail info of this promotion.',
  `region` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'The region where this promotion is valid.',
  `timezone_offset` int(11) NOT NULL DEFAULT '0' COMMENT 'Timezone info that seller set when he created this promotion. He could choose to not specify the timezone, in that case timezone will be calculated by a region to timezone mapping config.',
  `begin_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion begins',
  `end_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion ends',
  `status` tinyint(4) NOT NULL DEFAULT '1' COMMENT '1. Normal. 2. Closed by seller',
  `close_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is closed by seller',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is created',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is updated',
  `budget_id` bigint(20) DEFAULT NULL COMMENT '预算id',
  `created_source` tinyint(4) DEFAULT '1' COMMENT '创建来源',
  `approve_status` int(11) DEFAULT '2' COMMENT '审批状态',
  `budget_money` varchar(127) COLLATE utf8mb4_bin DEFAULT '' COMMENT '展示使用的budget金额',
  `test_flag` int(11) DEFAULT '0' COMMENT 'testFlag',
  `limit_dimension` tinyint(4) NOT NULL DEFAULT '2' COMMENT 'limit_dimension 0:not need, 1:sku 2:promotion',
  `channel_limit_type` varchar(128) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'channel limit type null means no limit',
  PRIMARY KEY (`promotion_id`),
  KEY `idx_title` (`op_id`,`region`,`title`) COMMENT 'search by title',
  KEY `idx_interval` (`op_id`,`region`,`status`,`begin_time`,`end_time`,`create_time`) COMMENT 'Composite index when this promotion is active'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;
CREATE TABLE `promotion_product` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `promotion_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'promotion id',
  `product_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'product_id',
  `sku_list` text COLLATE utf8mb4_bin COMMENT 'sku_list',
  `product_type` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'product_type, 1 - product 2- sku',
  `status` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'status 1-normal 2 - deleted',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'create time',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'update time',
  `purchase_limit` int(11) DEFAULT '0' COMMENT 'limit on promotion-sku-uid',
  `fixed_price` varchar(255) COLLATE utf8mb4_bin DEFAULT '' COMMENT 'amount',
  `deduction_amount` varchar(255) COLLATE utf8mb4_bin DEFAULT '' COMMENT 'Shop-Promo-Direct Subsidy deduction amount',
  `channel_limit_type` varchar(128) COLLATE utf8mb4_bin DEFAULT '' COMMENT 'channel limit type empty string means no limit',
  `is_affiliate_creator_limit` tinyint(1) DEFAULT '0' COMMENT '1 is for true, with the limit, 0 is false',
  `is_follower_limit` tinyint(1) DEFAULT '0' COMMENT '1 is for true, with the limit, 0 is false',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_promotion_product` (`promotion_id`,`product_id`),
  KEY `idx_product_status` (`product_id`,`status`),
  KEY `idx_promotion_product` (`promotion_id`,`status`,`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;
CREATE TABLE `promotion_product_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `promotion_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'promotion id',
  `product_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'product_id',
  `sku_list` text COLLATE utf8mb4_bin COMMENT 'sku_list',
  `product_type` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'product_type, 1 - product 2- sku',
  `status` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'status 1-normal 2 - deleted',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'create time',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'update time',
  `purchase_limit` int(11) DEFAULT '0' COMMENT 'limit on promotion-sku-uid',
  `fixed_price` varchar(255) COLLATE utf8mb4_bin DEFAULT '' COMMENT 'amount',
  `deduction_amount` varchar(255) COLLATE utf8mb4_bin DEFAULT '' COMMENT 'Shop-Promo-Direct Subsidy deduction amount',
  `channel_limit_type` varchar(128) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'channel limit type empty string means no limit',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_promotion_product` (`promotion_id`,`product_id`),
  KEY `idx_product_status` (`product_id`,`status`),
  KEY `idx_promotion_product` (`promotion_id`,`status`,`create_time`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;
CREATE TABLE `promotion_rule` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `promotion_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'promotoin id for the rule',
  `filter_type` int(11) DEFAULT NULL COMMENT 'filter type',
  `filter_config` text COLLATE utf8mb4_bin COMMENT 'filter config',
  `action_type` int(11) DEFAULT NULL COMMENT 'action type',
  `action_config` text COLLATE utf8mb4_bin COMMENT 'action config',
  `rule_type` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'rule type for the rule, 1 - action, 2 - filter',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this rule is created',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is updated',
  PRIMARY KEY (`id`),
  KEY `idx_promotion_rule_type` (`promotion_id`,`rule_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='rule table';
CREATE TABLE `promotion_rule_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `promotion_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'promotoin id for the rule',
  `filter_type` int(11) DEFAULT NULL COMMENT 'filter type',
  `filter_config` text COLLATE utf8mb4_bin COMMENT 'filter config',
  `action_type` int(11) DEFAULT NULL COMMENT 'action type',
  `action_config` text COLLATE utf8mb4_bin COMMENT 'action config',
  `rule_type` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'rule type for the rule, 1 - action, 2 - filter',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this rule is created',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is updated',
  PRIMARY KEY (`id`),
  KEY `idx_promotion_rule_type` (`promotion_id`,`rule_type`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='rule table';
CREATE TABLE `promotion_shop` (
  `id` bigint(20) NOT NULL DEFAULT '0' COMMENT '主键',
  `promotion_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '营销活动ID',
  `shop_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '店铺ID',
  `status` tinyint(4) NOT NULL DEFAULT '1' COMMENT '状态标识',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT '创建时间',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_promotioId_shopId` (`promotion_id`,`shop_id`),
  KEY `idx_index_shopId` (`shop_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='营销活动-店铺关联';
CREATE TABLE `promotion_shop_stress` (
  `id` bigint(20) NOT NULL DEFAULT '0' COMMENT '主键',
  `promotion_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '营销活动ID',
  `shop_id` bigint(20) NOT NULL DEFAULT '0' COMMENT '店铺ID',
  `status` tinyint(4) NOT NULL DEFAULT '1' COMMENT '状态标识',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT '创建时间',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT '更新时间',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_promotioId_shopId` (`promotion_id`,`shop_id`),
  KEY `idx_index_shopId` (`shop_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='营销活动-店铺关联';
CREATE TABLE `voucher` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `business_type` int(11) DEFAULT NULL COMMENT 'platformNewUserVoucher/platformVoucher',
  `event_id` bigint(20) DEFAULT NULL COMMENT 'eventId',
  `cost_role` int(11) DEFAULT NULL COMMENT 'platform/seller',
  `cost_type` int(11) DEFAULT NULL COMMENT 'skuPrice/shippingfee',
  `title` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'title',
  `des` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'description',
  `region` varchar(15) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'region',
  `currency` varchar(15) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'currency',
  `claim_start_time` bigint(20) DEFAULT NULL COMMENT 'can be claimed startTime',
  `claim_end_time` bigint(20) DEFAULT NULL COMMENT 'can be claimed endTime',
  `usable_period_type` int(11) DEFAULT NULL COMMENT 'periodType',
  `usable_start_time` bigint(20) DEFAULT NULL COMMENT 'usableStartTime',
  `usable_end_time` bigint(20) DEFAULT NULL COMMENT 'usableEndTime',
  `usable_duration` int(11) DEFAULT NULL COMMENT 'usableDuration',
  `status` int(11) DEFAULT NULL COMMENT 'status',
  `approve_status` int(11) DEFAULT NULL COMMENT 'approveStatus',
  `owner_id` bigint(20) DEFAULT NULL COMMENT 'ownerId',
  `owner_name` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'ownerName',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'updateTime',
  `create_source` int(11) DEFAULT NULL COMMENT 'createSource',
  `test_flag` tinyint(4) NOT NULL COMMENT '1/0',
  `use_limit_type` int(11) DEFAULT NULL COMMENT 'use_limit_type',
  PRIMARY KEY (`id`),
  KEY `idx_claimEndTime` (`claim_end_time`),
  KEY `idx_claimStartTime` (`claim_start_time`),
  KEY `idx_eventId` (`event_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='voucher';
CREATE TABLE `voucher_platform` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `voucher_type_id` bigint(20) DEFAULT NULL COMMENT 'voucherTypeId',
  `region` varchar(15) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'region',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'endTime',
  PRIMARY KEY (`id`),
  KEY `idx_voucherTypeId` (`voucher_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='voucher effective regions';
CREATE TABLE `voucher_platform_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `voucher_type_id` bigint(20) DEFAULT NULL COMMENT 'voucherTypeId',
  `region` varchar(15) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'region',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'endTime',
  PRIMARY KEY (`id`),
  KEY `idx_voucherTypeId` (`voucher_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='voucher effective regions';
CREATE TABLE `voucher_product` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `voucher_type_id` bigint(20) DEFAULT NULL COMMENT 'voucherTypeId',
  `product_id` bigint(20) DEFAULT NULL COMMENT 'productId',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'endTime',
  PRIMARY KEY (`id`),
  KEY `idx_voucherTypeId` (`voucher_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='voucher effective productId';
CREATE TABLE `voucher_product_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `voucher_type_id` bigint(20) DEFAULT NULL COMMENT 'voucherTypeId',
  `product_id` bigint(20) DEFAULT NULL COMMENT 'productId',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'endTime',
  PRIMARY KEY (`id`),
  KEY `idx_voucherTypeId` (`voucher_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='voucher effective productId';
CREATE TABLE `voucher_shop` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `voucher_type_id` bigint(20) DEFAULT NULL COMMENT 'voucherTypeId',
  `shop_id` bigint(20) DEFAULT NULL COMMENT 'shopId',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'updateTime',
  PRIMARY KEY (`id`),
  KEY `idx_voucherTypeId` (`voucher_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='voucher effective shops';
CREATE TABLE `voucher_shop_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `voucher_type_id` bigint(20) DEFAULT NULL COMMENT 'voucherTypeId',
  `shop_id` bigint(20) DEFAULT NULL COMMENT 'shopId',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'updateTime',
  PRIMARY KEY (`id`),
  KEY `idx_voucherTypeId` (`voucher_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='voucher effective shops';
CREATE TABLE `voucher_sku` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `voucher_type_id` bigint(20) DEFAULT NULL COMMENT 'voucherTypeId',
  `sku_id` bigint(20) DEFAULT NULL COMMENT 'skuId',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'updateTime',
  PRIMARY KEY (`id`),
  KEY `idx_voucherTypeId` (`voucher_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='voucher effective skus';
CREATE TABLE `voucher_sku_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `voucher_type_id` bigint(20) DEFAULT NULL COMMENT 'voucherTypeId',
  `sku_id` bigint(20) DEFAULT NULL COMMENT 'skuId',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'updateTime',
  PRIMARY KEY (`id`),
  KEY `idx_voucherTypeId` (`voucher_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='voucher effective skus';
CREATE TABLE `voucher_stock_info` (
  `voucher_type_id` bigint(20) NOT NULL COMMENT 'primary key',
  `total` bigint(20) NOT NULL DEFAULT '0' COMMENT 'total voucher count',
  `un_claim` bigint(20) NOT NULL DEFAULT '0' COMMENT 'un_claim voucher count',
  `claimed` bigint(20) NOT NULL DEFAULT '0' COMMENT 'claimed voucher count',
  `used` bigint(20) NOT NULL DEFAULT '0' COMMENT 'used voucher count',
  `write_off` bigint(20) NOT NULL DEFAULT '0' COMMENT 'write off voucher count',
  `region` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '0' COMMENT 'region of voucher info',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when the voucher stock is created',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when the voucher stock is updated',
  PRIMARY KEY (`voucher_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='voucher stock info';
CREATE TABLE `voucher_stock_info_stress` (
  `voucher_type_id` bigint(20) NOT NULL COMMENT 'primary key',
  `total` bigint(20) NOT NULL DEFAULT '0' COMMENT 'total voucher count',
  `un_claim` bigint(20) NOT NULL DEFAULT '0' COMMENT 'un_claim voucher count',
  `claimed` bigint(20) NOT NULL DEFAULT '0' COMMENT 'claimed voucher count',
  `used` bigint(20) NOT NULL DEFAULT '0' COMMENT 'used voucher count',
  `write_off` bigint(20) NOT NULL DEFAULT '0' COMMENT 'write off voucher count',
  `region` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '0' COMMENT 'region of voucher info',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when the voucher stock is created',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when the voucher stock is updated',
  PRIMARY KEY (`voucher_type_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='voucher stock info stress';
CREATE TABLE `voucher_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `business_type` int(11) DEFAULT NULL COMMENT 'platformNewUserVoucher/platformVoucher',
  `event_id` bigint(20) DEFAULT NULL COMMENT 'eventId',
  `cost_role` int(11) DEFAULT NULL COMMENT 'platform/seller',
  `cost_type` int(11) DEFAULT NULL COMMENT 'skuPrice/shippingfee',
  `title` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'title',
  `des` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'description',
  `region` varchar(15) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'region',
  `currency` varchar(15) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'currency',
  `claim_start_time` bigint(20) DEFAULT NULL COMMENT 'can be claimed startTime',
  `claim_end_time` bigint(20) DEFAULT NULL COMMENT 'can be claimed endTime',
  `usable_period_type` int(11) DEFAULT NULL COMMENT 'periodType',
  `usable_start_time` bigint(20) DEFAULT NULL COMMENT 'usableStartTime',
  `usable_end_time` bigint(20) DEFAULT NULL COMMENT 'usableEndTime',
  `usable_duration` int(11) DEFAULT NULL COMMENT 'usableDuration',
  `status` int(11) DEFAULT NULL COMMENT 'status',
  `approve_status` int(11) DEFAULT NULL COMMENT 'approveStatus',
  `owner_id` bigint(20) DEFAULT NULL COMMENT 'ownerId',
  `owner_name` varchar(255) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'ownerName',
  `create_time` bigint(20) DEFAULT NULL COMMENT 'createTime',
  `update_time` bigint(20) DEFAULT NULL COMMENT 'updateTime',
  `create_source` int(11) DEFAULT NULL COMMENT 'createSource',
  `test_flag` tinyint(4) NOT NULL COMMENT '1/0',
  `use_limit_type` int(11) DEFAULT NULL COMMENT 'use_limit_type',
  PRIMARY KEY (`id`),
  KEY `idx_claimEndTime` (`claim_end_time`),
  KEY `idx_claimStartTime` (`claim_start_time`),
  KEY `idx_eventId` (`event_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin COMMENT='voucher';


CREATE TABLE `campaign_filter` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `campaign_id` bigint(20) NOT NULL COMMENT 'campaign id',
  `filter_type` int(11) NOT NULL COMMENT 'filter_type',
  `filter_dimension` int(11) NOT NULL COMMENT 'filter_dimension',
  `filter_config` text COMMENT 'filter_config',
  `created_time` bigint(20) NOT NULL COMMENT 'createdTime',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `creator_name` varchar(50) DEFAULT '' COMMENT 'creatorName',
  `last_updated_time` bigint(20) NOT NULL COMMENT 'lastUpdatedTime',
  `last_updater_id` bigint(20) NOT NULL COMMENT 'lastUpdaterId',
  `last_updater_name` varchar(50) DEFAULT '' COMMENT 'lastUpdaterName',
  PRIMARY KEY (`id`),
  KEY `idx_campaign_id` (`campaign_id`) COMMENT 'campaign_id'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='campaign_filter';
CREATE TABLE `campaign_filter_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `campaign_id` bigint(20) NOT NULL COMMENT 'campaign id',
  `filter_type` int(11) NOT NULL COMMENT 'filter_type',
  `filter_dimension` int(11) NOT NULL COMMENT 'filter_dimension',
  `filter_config` int(11) NOT NULL COMMENT 'filter_config',
  `created_time` bigint(20) NOT NULL COMMENT 'createdTime',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `creator_name` varchar(50) DEFAULT '' COMMENT 'creatorName',
  `last_updated_time` bigint(20) NOT NULL COMMENT 'lastUpdatedTime',
  `last_updater_id` bigint(20) NOT NULL COMMENT 'lastUpdaterId',
  `last_updater_name` varchar(50) DEFAULT '' COMMENT 'lastUpdaterName',
  PRIMARY KEY (`id`),
  KEY `idx_campaign_id` (`campaign_id`) COMMENT 'campaign_id'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='campaign_filter_stress';
CREATE TABLE `campaign_info` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `title` varchar(200) DEFAULT NULL COMMENT 'title',
  `region` varchar(32) NOT NULL COMMENT 'region',
  `status` int(11) NOT NULL COMMENT 'status, can not be null',
  `scene` int(11) DEFAULT NULL COMMENT 'scene, can not be null',
  `begin_time` bigint(20) DEFAULT NULL COMMENT 'begin_time',
  `end_time` bigint(20) DEFAULT NULL COMMENT 'end_time',
  `cover` varchar(255) DEFAULT NULL COMMENT 'region',
  `abstract` text COMMENT 'detail',
  `created_time` bigint(20) NOT NULL COMMENT 'createdTime',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `creator_name` varchar(50) DEFAULT '' COMMENT 'creatorName',
  `last_updated_time` bigint(20) NOT NULL COMMENT 'lastUpdatedTime',
  `last_updater_id` bigint(20) NOT NULL COMMENT 'lastUpdaterId',
  `last_updater_name` varchar(50) DEFAULT '' COMMENT 'lastUpdaterName',
  PRIMARY KEY (`id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='campaign_info';
CREATE TABLE `campaign_info_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `title` varchar(200) DEFAULT NULL COMMENT 'title',
  `region` varchar(32) NOT NULL COMMENT 'region',
  `status` int(11) NOT NULL COMMENT 'status, can not be null',
  `scene` int(11) NOT NULL COMMENT 'scene, can not be null',
  `begin_time` bigint(20) NOT NULL COMMENT 'begin_time',
  `end_time` bigint(20) NOT NULL COMMENT 'end_time',
  `cover` varchar(255) NOT NULL COMMENT 'region',
  `abstract` text COMMENT 'detail',
  `created_time` bigint(20) NOT NULL COMMENT 'createdTime',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `creator_name` varchar(50) DEFAULT '' COMMENT 'creatorName',
  `last_updated_time` bigint(20) NOT NULL COMMENT 'lastUpdatedTime',
  `last_updater_id` bigint(20) NOT NULL COMMENT 'lastUpdaterId',
  `last_updater_name` varchar(50) DEFAULT '' COMMENT 'lastUpdaterName',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_idx_title` (`region`,`title`) COMMENT 'search by title'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='campaign_info_stress';
CREATE TABLE `pool_info` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `title` varchar(200) DEFAULT NULL COMMENT 'title',
  `region` varchar(32) NOT NULL COMMENT 'region',
  `status` int(11) NOT NULL COMMENT 'status, can not be null',
  `source_type` int(11) NOT NULL COMMENT 'source_type, can not be null',
  `campaign_type` int(11) NOT NULL COMMENT 'campaign_type, can not be null',
  `term_type` int(11) NOT NULL COMMENT 'term_type, can not be null',
  `purchase_limit_type` int(11) NOT NULL COMMENT 'purchase_limit_type, can not be null',
  `create_time` bigint(20) NOT NULL COMMENT 'create_time',
  `update_time` bigint(20) NOT NULL COMMENT 'update_time',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `creator_name` varchar(50) DEFAULT '' COMMENT 'creatorName',
  `test_flag` tinyint(4) DEFAULT '0' COMMENT 'test_flag',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_idx_title` (`region`,`title`) COMMENT 'search by title'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='pool_info';
CREATE TABLE `pool_info_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `title` varchar(200) DEFAULT NULL COMMENT 'title',
  `region` varchar(32) NOT NULL COMMENT 'region',
  `status` int(11) NOT NULL COMMENT 'status, can not be null',
  `source_type` int(11) NOT NULL COMMENT 'source_type, can not be null',
  `campaign_type` int(11) NOT NULL COMMENT 'campaign_type, can not be null',
  `term_type` int(11) NOT NULL COMMENT 'term_type, can not be null',
  `purchase_limit_type` int(11) NOT NULL COMMENT 'purchase_limit_type, can not be null',
  `create_time` bigint(20) NOT NULL COMMENT 'create_time',
  `update_time` bigint(20) NOT NULL COMMENT 'update_time',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `creator_name` varchar(50) DEFAULT '' COMMENT 'creatorName',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_idx_title` (`region`,`title`) COMMENT 'search by title'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='pool_info_stress';
CREATE TABLE `pool_product` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `product_id` bigint(20) NOT NULL COMMENT 'product_id',
  `shop_id` bigint(20) NOT NULL COMMENT 'shop_id',
  `product_pool_id` bigint(20) NOT NULL COMMENT 'product_pool_id',
  `campaign_id` bigint(20) NOT NULL COMMENT 'campaign_id',
  `begin_time` bigint(20) NOT NULL COMMENT 'start_time',
  `end_time` bigint(20) NOT NULL COMMENT 'start_time',
  `status` int(11) NOT NULL COMMENT 'status, can not be null',
  `campaign_price` varchar(255) DEFAULT '' COMMENT 'campaign_price',
  `commission_rate` varchar(20) DEFAULT '' COMMENT 'commission_rate',
  `purchase_limit` int(11) DEFAULT '0' COMMENT 'purchase_limit, for now only direct subsidy need',
  `deduction_amount` varchar(255) DEFAULT '' COMMENT 'deduction_amount, for now only direct subsidy need',
  `created_time` bigint(20) NOT NULL COMMENT 'createdTime',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `last_updated_time` bigint(20) NOT NULL COMMENT 'lastUpdatedTime',
  `last_updater_id` bigint(20) NOT NULL COMMENT 'lastUpdaterId',
  PRIMARY KEY (`id`),
  KEY `idx_product_id` (`product_id`,`end_time`) COMMENT 'query by product_id'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='pool_product';
CREATE TABLE `pool_product_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `product_id` bigint(20) NOT NULL COMMENT 'product_id',
  `shop_id` bigint(20) NOT NULL COMMENT 'shop_id',
  `product_pool_id` bigint(20) NOT NULL COMMENT 'product_pool_id',
  `campaign_id` bigint(20) NOT NULL COMMENT 'campaign_id',
  `begin_time` bigint(20) NOT NULL COMMENT 'start_time',
  `end_time` bigint(20) NOT NULL COMMENT 'start_time',
  `status` int(11) NOT NULL COMMENT 'status, can not be null',
  `campaign_price` varchar(255) DEFAULT '' COMMENT 'campaign_price',
  `commission_rate` varchar(20) DEFAULT '' COMMENT 'commission_rate',
  `purchase_limit` int(11) DEFAULT '0' COMMENT 'purchase_limit, for now only direct subsidy need',
  `deduction_amount` varchar(255) DEFAULT '' COMMENT 'deduction_amount, for now only direct subsidy need',
  `created_time` bigint(20) NOT NULL COMMENT 'createdTime',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `last_updated_time` bigint(20) NOT NULL COMMENT 'lastUpdatedTime',
  `last_updater_id` bigint(20) NOT NULL COMMENT 'lastUpdaterId',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_idx_pool_product` (`product_pool_id`,`product_id`) COMMENT 'query by pool id',
  KEY `idx_product_id` (`product_id`,`end_time`) COMMENT 'query by product_id'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='pool_product_stress';
CREATE TABLE `product_pool_approve` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `product_id` bigint(20) NOT NULL COMMENT 'product_id',
  `shop_id` bigint(20) NOT NULL COMMENT 'shop_id',
  `product_pool_id` bigint(20) NOT NULL COMMENT 'product_pool_id',
  `campaign_id` bigint(20) NOT NULL COMMENT 'campaign_id',
  `begin_time` bigint(20) NOT NULL COMMENT 'start_time',
  `end_time` bigint(20) NOT NULL COMMENT 'start_time',
  `status` int(11) NOT NULL COMMENT 'status, can not be null',
  `is_last_status` tinyint(1) NOT NULL COMMENT 'is_last_status, can not be null',
  `campaign_price` varchar(255) DEFAULT '' COMMENT 'campaign_price',
  `commission_rate` bigint(20) DEFAULT NULL COMMENT 'commission_rate',
  `purchase_limit` int(11) DEFAULT '0' COMMENT 'purchase_limit, for now only direct subsidy need',
  `deduction_amount` varchar(255) DEFAULT '' COMMENT 'deduction_amount, for now only direct subsidy need',
  `reason` text COMMENT 'reason',
  `reason_type` int(11) DEFAULT NULL COMMENT 'reason_type',
  `expire_reason` int(11) DEFAULT '1' COMMENT 'expire_reason',
  `created_time` bigint(20) NOT NULL COMMENT 'createdTime',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `last_updated_time` bigint(20) NOT NULL COMMENT 'lastUpdatedTime',
  `last_updater_id` bigint(20) NOT NULL COMMENT 'lastUpdaterId',
  `region` varchar(15) NOT NULL COMMENT 'region',
  `join_time` bigint(20) NOT NULL COMMENT 'join_time',
  `pool_product_record_id` bigint(20) DEFAULT NULL COMMENT 'pool_product_record_id',
  PRIMARY KEY (`id`),
  KEY `idx_campaign_id` (`campaign_id`,`product_id`,`created_time`,`status`) COMMENT 'query by campaign id',
  KEY `idx_product_id` (`product_id`,`status`,`begin_time`) COMMENT 'query by product_id'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='product_pool_approve';
CREATE TABLE `sub_campaign_info` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `parent_id` bigint(20) NOT NULL COMMENT 'parent_id',
  `product_pool_id` bigint(20) NOT NULL COMMENT 'product_pool_id',
  `title` varchar(200) DEFAULT NULL COMMENT 'title',
  `region` varchar(32) NOT NULL COMMENT 'region',
  `scene` int(11) NOT NULL COMMENT 'scene, can not be null',
  `status` int(11) NOT NULL COMMENT 'status, can not be null',
  `release_rule` int(11) NOT NULL COMMENT 'release_rule, can not be null',
  `approve_status` int(11) NOT NULL COMMENT 'approve_status, can not be null',
  `campaign_type` int(11) DEFAULT NULL COMMENT 'campaign type',
  `limit_dimension` int(11) DEFAULT NULL COMMENT 'limit dimension, can not be null',
  `review_days` int(11) NOT NULL COMMENT 'review days, can not be null',
  `launch_begin_time` bigint(20) NOT NULL COMMENT 'begin_time',
  `launch_end_time` bigint(20) NOT NULL COMMENT 'end_time',
  `registration_begin_time` bigint(20) NOT NULL COMMENT 'begin_time',
  `registration_end_time` bigint(20) NOT NULL COMMENT 'end_time',
  `cover` varchar(255) NOT NULL COMMENT 'region',
  `abstract` text COMMENT 'abstract',
  `detail` text COMMENT 'detail',
  `shop_filter_express` text COMMENT 'shop_filter_express',
  `product_template` int(11) NOT NULL COMMENT 'product_template, can not be null',
  `product_filter_express` text COMMENT 'product_filter_express',
  `created_time` bigint(20) NOT NULL COMMENT 'createdTime',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `creator_name` varchar(50) DEFAULT NULL COMMENT 'creatorName',
  `last_updated_time` bigint(20) NOT NULL COMMENT 'lastUpdatedTime',
  `last_updater_id` bigint(20) NOT NULL COMMENT 'lastUpdaterId',
  `last_updater_name` varchar(50) DEFAULT NULL COMMENT 'lastUpdaterName',
  `test_flag` tinyint(4) DEFAULT '0' COMMENT 'test_flag',
  PRIMARY KEY (`id`),
  KEY `idx_product_pool_id` (`product_pool_id`) COMMENT 'product_pool_id'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='sub_campaign_info';
CREATE TABLE `sub_campaign_info_stress` (
  `id` bigint(20) NOT NULL COMMENT 'primary key',
  `parent_id` bigint(20) NOT NULL COMMENT 'parent_id',
  `product_pool_id` bigint(20) NOT NULL COMMENT 'product_pool_id',
  `title` varchar(200) DEFAULT NULL COMMENT 'title',
  `region` varchar(32) NOT NULL COMMENT 'region',
  `scene` int(11) NOT NULL COMMENT 'scene, can not be null',
  `status` int(11) NOT NULL COMMENT 'status, can not be null',
  `release_rule` int(11) NOT NULL COMMENT 'release_rule, can not be null',
  `approve_status` int(11) NOT NULL COMMENT 'approve_status, can not be null',
  `campaign_type` int(11) NOT NULL COMMENT 'campaign type, can not be null',
  `limit_dimension` int(11) DEFAULT NULL COMMENT 'limit dimension, can not be null',
  `review_days` int(11) NOT NULL COMMENT 'review days, can not be null',
  `launch_begin_time` bigint(20) NOT NULL COMMENT 'begin_time',
  `launch_end_time` bigint(20) NOT NULL COMMENT 'end_time',
  `registration_begin_time` bigint(20) NOT NULL COMMENT 'begin_time',
  `registration_end_time` bigint(20) NOT NULL COMMENT 'end_time',
  `cover` varchar(255) NOT NULL COMMENT 'region',
  `abstract` text COMMENT 'abstract',
  `detail` text COMMENT 'detail',
  `shop_filter_express` text COMMENT 'shop_filter_express',
  `product_template` int(11) NOT NULL COMMENT 'product_template, can not be null',
  `product_filter_express` text COMMENT 'product_filter_express',
  `created_time` bigint(20) NOT NULL COMMENT 'createdTime',
  `creator_id` bigint(20) NOT NULL COMMENT 'creatorId',
  `creator_name` varchar(50) DEFAULT NULL COMMENT 'creatorName',
  `last_updated_time` bigint(20) NOT NULL COMMENT 'lastUpdatedTime',
  `last_updater_id` bigint(20) NOT NULL COMMENT 'lastUpdaterId',
  `last_updater_name` varchar(50) DEFAULT NULL COMMENT 'lastUpdaterName',
  PRIMARY KEY (`id`),
  UNIQUE KEY `uniq_idx_title` (`parent_id`,`title`) COMMENT 'search by title',
  KEY `idx_product_pool_id` (`product_pool_id`) COMMENT 'product_pool_id'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='sub_campaign_info_stress';


CREATE TABLE `promotion_info` (
  `promotion_id` bigint(20) NOT NULL COMMENT 'primary key',
  `promotion_template` int(11) NOT NULL DEFAULT '0' COMMENT 'Template of promotion that is defined by PM, including discount, coupon, free shipping.',
  `filter_expression` text COLLATE utf8mb4_bin COMMENT 'filter expression',
  `action_expression` text COLLATE utf8mb4_bin COMMENT 'action expression',
  `promotion_type` int(11) NOT NULL DEFAULT '0' COMMENT 'Promotion type decides how the promotion process should be calculated, based on OrderLine or MainOrder or Cart.',
  `op_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Composite index: op_id + begin_time + end_time',
  `op_name` varchar(20) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'Name of the operator who did the last change',
  `seller_promotion_type` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'seller promotion type',
  `promotion_time_limit` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'Promotion time limit 1 - limited 2 - no limit',
  `title` varchar(100) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'Indexed. Title of this promotion that is displayed to seller',
  `description` text COLLATE utf8mb4_bin COMMENT 'Detail info of this promotion.',
  `region` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'The region where this promotion is valid.',
  `timezone_offset` int(11) NOT NULL DEFAULT '0' COMMENT 'Timezone info that seller set when he created this promotion. He could choose to not specify the timezone, in that case timezone will be calculated by a region to timezone mapping config.',
  `begin_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion begins',
  `end_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion ends',
  `status` tinyint(4) NOT NULL DEFAULT '1' COMMENT '1. Normal. 2. Closed by seller',
  `close_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is closed by seller',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is created',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is updated',
  `budget_id` bigint(20) DEFAULT NULL COMMENT '预算id',
  `created_source` tinyint(4) DEFAULT '1' COMMENT '创建来源',
  `approve_status` int(11) DEFAULT '2' COMMENT '审批状态',
  `budget_money` varchar(127) COLLATE utf8mb4_bin DEFAULT '' COMMENT '展示使用的budget金额',
  `test_flag` int(11) DEFAULT '0' COMMENT 'testFlag',
  `limit_dimension` tinyint(4) NOT NULL DEFAULT '2' COMMENT 'limit_dimension 0:not need, 1:sku 2:promotion',
  `channel_limit_type` varchar(128) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'channel limit type, null means no limit',
  PRIMARY KEY (`promotion_id`),
  UNIQUE KEY `uniq_idx_title` (`op_id`,`region`,`title`,`promotion_template`) COMMENT 'uniq title',
  KEY `idx_interval` (`op_id`,`region`,`status`,`begin_time`,`end_time`,`create_time`) COMMENT 'Composite index when this promotion is active'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;
CREATE TABLE `promotion_info_stress` (
  `promotion_id` bigint(20) NOT NULL COMMENT 'primary key',
  `promotion_template` int(11) NOT NULL DEFAULT '0' COMMENT 'Template of promotion that is defined by PM, including discount, coupon, free shipping.',
  `filter_expression` text COLLATE utf8mb4_bin COMMENT 'filter expression',
  `action_expression` text COLLATE utf8mb4_bin COMMENT 'action expression',
  `promotion_type` int(11) NOT NULL DEFAULT '0' COMMENT 'Promotion type decides how the promotion process should be calculated, based on OrderLine or MainOrder or Cart.',
  `op_id` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Composite index: op_id + begin_time + end_time',
  `op_name` varchar(20) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'Name of the operator who did the last change',
  `seller_promotion_type` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'seller promotion type',
  `promotion_time_limit` tinyint(4) NOT NULL DEFAULT '1' COMMENT 'Promotion time limit 1 - limited 2 - no limit',
  `title` varchar(100) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'Indexed. Title of this promotion that is displayed to seller',
  `description` text COLLATE utf8mb4_bin COMMENT 'Detail info of this promotion.',
  `region` varchar(32) COLLATE utf8mb4_bin NOT NULL DEFAULT '' COMMENT 'The region where this promotion is valid.',
  `timezone_offset` int(11) NOT NULL DEFAULT '0' COMMENT 'Timezone info that seller set when he created this promotion. He could choose to not specify the timezone, in that case timezone will be calculated by a region to timezone mapping config.',
  `begin_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion begins',
  `end_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion ends',
  `status` tinyint(4) NOT NULL DEFAULT '1' COMMENT '1. Normal. 2. Closed by seller',
  `close_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is closed by seller',
  `create_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is created',
  `update_time` bigint(20) NOT NULL DEFAULT '0' COMMENT 'Timestamp when this promotion is updated',
  `budget_id` bigint(20) DEFAULT NULL COMMENT '预算id',
  `created_source` tinyint(4) DEFAULT '1' COMMENT '创建来源',
  `approve_status` int(11) DEFAULT '2' COMMENT '审批状态',
  `budget_money` varchar(127) COLLATE utf8mb4_bin DEFAULT '' COMMENT '展示使用的budget金额',
  `test_flag` int(11) DEFAULT '0' COMMENT 'testFlag',
  `limit_dimension` tinyint(4) NOT NULL DEFAULT '2' COMMENT 'limit_dimension 0:not need, 1:sku 2:promotion',
  `channel_limit_type` varchar(128) COLLATE utf8mb4_bin DEFAULT NULL COMMENT 'channel limit type null means no limit',
  PRIMARY KEY (`promotion_id`),
  KEY `idx_title` (`op_id`,`region`,`title`) COMMENT 'search by title',
  KEY `idx_interval` (`op_id`,`region`,`status`,`begin_time`,`end_time`,`create_time`) COMMENT 'Composite index when this promotion is active'
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_bin;